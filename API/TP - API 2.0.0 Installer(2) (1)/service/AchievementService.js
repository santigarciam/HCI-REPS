'use strict';const _0x191c=['User\x20is\x20not\x20the\x20owner\x20of\x20achievement\x20id\x20','1623301dnHOoS','modify','add','81445IpFART','1700642qFzBrP','1MZwYWz','Achievement','2640183yZCsKV','map','1173848VGyopE','updateAchievementDto','retrieve','../repository/RepositoryFactory','userId','create','content','./ModelMapper','\x20not\x20found','queryById','queryByAdvancedFilter','mapAchievementDto','mapAchievementEntity','../errors/errors','exports','485664NDNPLJ','107538ZzjwaL','update','retrieveList'];const _0x339009=_0x2754;(function(_0x17e52b,_0x86b49c){const _0x60d39f=_0x2754;while(!![]){try{const _0x4ced8b=-parseInt(_0x60d39f(0x114))+-parseInt(_0x60d39f(0x118))+-parseInt(_0x60d39f(0x121))+-parseInt(_0x60d39f(0x113))+-parseInt(_0x60d39f(0x11b))+parseInt(_0x60d39f(0x11c))*parseInt(_0x60d39f(0x11d))+parseInt(_0x60d39f(0x11f));if(_0x4ced8b===_0x86b49c)break;else _0x17e52b['push'](_0x17e52b['shift']());}catch(_0xbda87d){_0x17e52b['push'](_0x17e52b['shift']());}}}(_0x191c,0xd42a5));function _0x2754(_0x4ce70a,_0x2e6d9d){_0x4ce70a=_0x4ce70a-0x10b;let _0x191c14=_0x191c[_0x4ce70a];return _0x191c14;}const {RepositoryName,RepositoryFactory}=require(_0x339009(0x124)),{ModelMapper}=require(_0x339009(0x10b)),{NotFoundError,ForbiddenError}=require(_0x339009(0x111));async function ensureAchievement(_0x4e9c95,_0x1f9058){const _0x40abef=_0x339009,_0x1621db=RepositoryFactory[_0x40abef(0x126)](RepositoryName[_0x40abef(0x11e)]);let _0x9a5c8d=await _0x1621db[_0x40abef(0x10d)](_0x1f9058);if(!_0x9a5c8d)throw new NotFoundError(['Achievement\x20id\x20'+_0x1f9058+_0x40abef(0x10c)]);if(_0x9a5c8d[_0x40abef(0x125)]!==_0x4e9c95['id'])throw new ForbiddenError([_0x40abef(0x117)+_0x9a5c8d['id']]);return _0x9a5c8d;}module[_0x339009(0x112)][_0x339009(0x11a)]=async(_0x4aa8e4,_0x8fc02c)=>{const _0x378dd8=_0x339009,_0x32403e=ModelMapper[_0x378dd8(0x10f)](_0x8fc02c,_0x4aa8e4['id']),_0x30a699=RepositoryFactory[_0x378dd8(0x126)](RepositoryName[_0x378dd8(0x11e)]),_0x25a7af=await _0x30a699['insert'](_0x32403e);return ModelMapper[_0x378dd8(0x110)](_0x25a7af);},module[_0x339009(0x112)][_0x339009(0x119)]=async(_0x35372e,_0x2ab85c,_0x325ebc)=>{const _0xb2547b=_0x339009;let _0x9cfd26=await ensureAchievement(_0x35372e,_0x2ab85c);const _0x55b06b=RepositoryFactory[_0xb2547b(0x126)](RepositoryName[_0xb2547b(0x11e)]);return ModelMapper[_0xb2547b(0x122)](_0x9cfd26,_0x325ebc),_0x9cfd26=await _0x55b06b[_0xb2547b(0x115)](_0x9cfd26),ModelMapper['mapAchievementEntity'](_0x9cfd26);},module[_0x339009(0x112)]['remove']=async(_0x2440ba,_0x24ce5b)=>{const _0x403392=_0x339009;await ensureAchievement(_0x2440ba,_0x24ce5b);const _0x28dc10=RepositoryFactory[_0x403392(0x126)](RepositoryName['Achievement']);await _0x28dc10['deleteById'](_0x24ce5b);},module[_0x339009(0x112)][_0x339009(0x123)]=async(_0x281c72,_0x2b46e)=>{const _0x58db4c=_0x339009,_0x5e2b55=await ensureAchievement(_0x281c72,_0x2b46e);return ModelMapper[_0x58db4c(0x110)](_0x5e2b55);},module['exports'][_0x339009(0x116)]=async(_0x4427f9,_0x3d3bcb,_0x53804c,_0x2ba39d,_0x2f2702)=>{const _0x3ffe0e=_0x339009,_0x151efe={'userId':_0x4427f9['id']},_0x2b5703=RepositoryFactory[_0x3ffe0e(0x126)](RepositoryName[_0x3ffe0e(0x11e)]);let _0x33a9ed=await _0x2b5703[_0x3ffe0e(0x10e)](_0x151efe,null,_0x3d3bcb,_0x53804c,_0x2ba39d,_0x2f2702);return _0x33a9ed[_0x3ffe0e(0x127)]=_0x33a9ed[_0x3ffe0e(0x127)][_0x3ffe0e(0x120)](_0x1654ee=>ModelMapper[_0x3ffe0e(0x110)](_0x1654ee)),_0x33a9ed;};