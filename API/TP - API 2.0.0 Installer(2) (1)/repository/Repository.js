const _0x112e=['offset','insert','update','exports','handleError','orderBy','queryByFilter','length','972610EfRPsx','SQLITE_CONSTRAINT:\x20','handleConstraintError','LOWER(','SQLITE_ERROR:\x20','3117SaYaer','clone','delete','setId','value','message','155zxIDjs','queryById','943002DlAfss','queryByAdvancedFilter','where','313ktTHSv','268619RcDDBN','SQLITE_ERROR','code','search','324789HleFQK','count(*)','886cbOggY','SQLITE_CONSTRAINT','name','getId','limit','1075796ThjnKx','tableName','toLowerCase','substring',')\x20LIKE\x20?','deleteByFilter','deleteById'];const _0x8f7103=_0x2369;(function(_0x285f14,_0xe567){const _0x12bd05=_0x2369;while(!![]){try{const _0x5e6fd4=parseInt(_0x12bd05(0x15d))*-parseInt(_0x12bd05(0x169))+parseInt(_0x12bd05(0x16e))+parseInt(_0x12bd05(0x167))+parseInt(_0x12bd05(0x163))+-parseInt(_0x12bd05(0x17d))+-parseInt(_0x12bd05(0x15f))+-parseInt(_0x12bd05(0x157))*-parseInt(_0x12bd05(0x162));if(_0x5e6fd4===_0xe567)break;else _0x285f14['push'](_0x285f14['shift']());}catch(_0x1af0e9){_0x285f14['push'](_0x285f14['shift']());}}}(_0x112e,0x9080b));const {DataConstraintError,DatabaseError}=require('../errors/errors'),{PagedResult}=require('../utils/PagedResult');function _0x2369(_0x67471f,_0x48a393){_0x67471f=_0x67471f-0x154;let _0x112e1c=_0x112e[_0x67471f];return _0x112e1c;}module[_0x8f7103(0x178)]=class Repository{constructor(_0x58df30,_0xbbfc1c){const _0x380c3a=_0x8f7103;this['db']=_0x58df30,this[_0x380c3a(0x16f)]=_0xbbfc1c;}['getId'](_0x1a436e){return{'id':_0x1a436e['id']};}[_0x8f7103(0x15a)](_0x529d5d,_0x45eff4){_0x45eff4['id']=_0x529d5d[0x0];}async[_0x8f7103(0x176)](_0x29a573){const _0x2cafbc=_0x8f7103;try{const _0x358ecb=await this['db'](this[_0x2cafbc(0x16f)])['insert'](_0x29a573);if(!_0x358ecb)return undefined;return this[_0x2cafbc(0x15a)](_0x358ecb,_0x29a573),_0x29a573;}catch(_0x58870d){throw this[_0x2cafbc(0x154)](_0x58870d);}}async[_0x8f7103(0x177)](_0xf3c807){const _0x3264f1=_0x8f7103;try{const _0x3b2889=await this['db'](this[_0x3264f1(0x16f)])['where'](this[_0x3264f1(0x16c)](_0xf3c807))[_0x3264f1(0x177)](_0xf3c807);if(_0x3b2889===0x0)return undefined;return _0xf3c807;}catch(_0x18e6c1){throw this[_0x3264f1(0x154)](_0x18e6c1);}}async[_0x8f7103(0x174)](_0x5be70d){const _0x555493=_0x8f7103;return await this[_0x555493(0x173)]({'id':_0x5be70d});}async['deleteByFilter'](_0x54cba2){const _0xe241a8=_0x8f7103;try{return await this['db'](this['tableName'])[_0xe241a8(0x161)](_0x54cba2)[_0xe241a8(0x159)]();}catch(_0x431973){throw this[_0xe241a8(0x179)](_0x431973);}}async[_0x8f7103(0x15e)](_0x4d6606){const _0x31bff0=_0x8f7103;return await this[_0x31bff0(0x17b)]({'id':_0x4d6606});}async[_0x8f7103(0x17b)](_0x1c3617){const _0x4cd026=_0x8f7103;try{const _0x13b30f=await this['db'](this[_0x4cd026(0x16f)])['where'](_0x1c3617);if(_0x13b30f[_0x4cd026(0x17c)]===0x0)return undefined;return _0x13b30f[0x0];}catch(_0x4f30e4){throw this[_0x4cd026(0x179)](_0x4f30e4);}}async[_0x8f7103(0x160)](_0x2649a1,_0x2ca1a7={'column':_0x8f7103(0x16b),'value':''},_0x110dd6,_0x36e58a,_0x4b5abb,_0x2896da){const _0x4197fb=_0x8f7103;try{let _0x743554=this['db'](this['tableName']);if(_0x2649a1)_0x743554['where'](_0x2649a1);if(_0x2ca1a7)_0x743554['andWhereRaw'](_0x4197fb(0x155)+_0x2ca1a7['column']+_0x4197fb(0x172),'%'+_0x2ca1a7[_0x4197fb(0x15b)][_0x4197fb(0x170)]()+'%');if(_0x4b5abb&&_0x2896da)_0x743554[_0x4197fb(0x17a)](_0x4b5abb,_0x2896da);const _0x10fe6c=PagedResult[_0x4197fb(0x16d)](_0x36e58a),_0x31c7ba=PagedResult[_0x4197fb(0x175)](_0x110dd6,_0x10fe6c),_0x249521=await _0x743554[_0x4197fb(0x158)]()[_0x4197fb(0x175)](_0x31c7ba)[_0x4197fb(0x16d)](_0x10fe6c),_0x340b38=await _0x743554[_0x4197fb(0x158)]()['count']();return PagedResult['build']({'totalCount':_0x340b38[0x0][_0x4197fb(0x168)],'offset':_0x31c7ba,'limit':_0x10fe6c,'orderBy':_0x4b5abb,'direction':_0x2896da,'content':_0x249521});}catch(_0x3c2f3a){throw this[_0x4197fb(0x179)](_0x3c2f3a);}}[_0x8f7103(0x179)](_0x54a7cd){const _0x5361a1=_0x8f7103;if(_0x54a7cd[_0x5361a1(0x165)]===_0x5361a1(0x164)){let _0x4ea8f0=_0x54a7cd[_0x5361a1(0x15c)];const _0x56abaf=_0x5361a1(0x156),_0x319394=_0x4ea8f0[_0x5361a1(0x166)](_0x56abaf)+_0x56abaf[_0x5361a1(0x17c)];return _0x4ea8f0=_0x4ea8f0['substring'](_0x319394,_0x4ea8f0[_0x5361a1(0x17c)]),new DatabaseError([_0x4ea8f0]);}else return _0x54a7cd;}['handleConstraintError'](_0x279558){const _0x22efce=_0x8f7103;if(_0x279558[_0x22efce(0x165)]===_0x22efce(0x16a)){let _0x203c23=_0x279558[_0x22efce(0x15c)];const _0x4539b7=_0x22efce(0x17e),_0x4d5a1f=_0x203c23[_0x22efce(0x166)](_0x4539b7)+_0x4539b7[_0x22efce(0x17c)];return _0x203c23=_0x203c23[_0x22efce(0x171)](_0x4d5a1f,_0x203c23[_0x22efce(0x17c)]),new DataConstraintError([_0x203c23]);}else return _0x279558;}};