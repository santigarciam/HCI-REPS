'use strict';const _0x4890=['5IfDjHU','../errors/errors','User\x20is\x20not\x20the\x20owner\x20of\x20exercise\x20id\x20','updateVideoDto','mapVideoEntity','content','\x20\x20not\x20found','mapVideoDto','modify','deleteById','Exercise','exports','../repository/RepositoryFactory','2913BUeYch','176783ihVbiB','retrieveList','remove','queryById','577wolbMc','193991LECyFX','76tNLToj','Exercise\x20id\x20','insert','1701HqtEFB','Video','update','map','\x20not\x20found','3GHAZCo','539336KZiGtl','Video\x20id\x20','../utils/PagedResult','retrieve','create','103DlcJYm','2AYPPTg','queryByAdvancedFilter','./ModelMapper','8341ATOzps','171505CTPQlx'];const _0x117624=_0x59b4;function _0x59b4(_0x15eeb1,_0x225da1){_0x15eeb1=_0x15eeb1-0x1ee;let _0x48908e=_0x4890[_0x15eeb1];return _0x48908e;}(function(_0x659adf,_0x3633a1){const _0xb316fd=_0x59b4;while(!![]){try{const _0x45068b=parseInt(_0xb316fd(0x1f8))+parseInt(_0xb316fd(0x1fe))*-parseInt(_0xb316fd(0x211))+-parseInt(_0xb316fd(0x1f7))*parseInt(_0xb316fd(0x1ee))+-parseInt(_0xb316fd(0x210))*-parseInt(_0xb316fd(0x1fd))+-parseInt(_0xb316fd(0x203))*parseInt(_0xb316fd(0x202))+-parseInt(_0xb316fd(0x1f2))*-parseInt(_0xb316fd(0x215))+-parseInt(_0xb316fd(0x1ef))*-parseInt(_0xb316fd(0x201));if(_0x45068b===_0x3633a1)break;else _0x659adf['push'](_0x659adf['shift']());}catch(_0x184bb8){_0x659adf['push'](_0x659adf['shift']());}}}(_0x4890,0xa18c8));const {RepositoryName,RepositoryFactory}=require(_0x117624(0x20f)),{ModelMapper}=require(_0x117624(0x200)),{PagedResult}=require(_0x117624(0x1fa)),{NotFoundError,ForbiddenError}=require(_0x117624(0x204));async function ensureExercise(_0x4fead6,_0x5986cb,_0x2e1ca5=!![]){const _0x26d651=_0x117624,_0x322281=RepositoryFactory[_0x26d651(0x1fc)](RepositoryName[_0x26d651(0x20d)]),_0x178787=await _0x322281[_0x26d651(0x214)](_0x5986cb);if(!_0x178787)throw new NotFoundError([_0x26d651(0x1f0)+_0x5986cb+_0x26d651(0x1f6)]);if(_0x2e1ca5&&_0x178787['userId']!==_0x4fead6['id'])throw new ForbiddenError([_0x26d651(0x205)+_0x5986cb]);return _0x178787;}async function ensureVideo(_0x3e24c3){const _0x592c4a=_0x117624,_0x55112a=RepositoryFactory['create'](RepositoryName[_0x592c4a(0x1f3)]);let _0x559918=await _0x55112a['queryById'](_0x3e24c3);if(!_0x559918)throw new NotFoundError([_0x592c4a(0x1f9)+_0x3e24c3+_0x592c4a(0x209)]);return _0x559918;}module['exports']['add']=async(_0x1649f5,_0x1e4a00,_0x559876)=>{const _0x3ae361=_0x117624;await ensureExercise(_0x1649f5,_0x1e4a00);const _0x34d2a2=ModelMapper[_0x3ae361(0x20a)](_0x559876,_0x1e4a00),_0x4a9dca=RepositoryFactory[_0x3ae361(0x1fc)](RepositoryName[_0x3ae361(0x1f3)]),_0x2966ab=await _0x4a9dca[_0x3ae361(0x1f1)](_0x34d2a2);return ModelMapper[_0x3ae361(0x207)](_0x2966ab);},module[_0x117624(0x20e)][_0x117624(0x20b)]=async(_0x75c4b4,_0x1048fc,_0x53d31f,_0x245994)=>{const _0x11970c=_0x117624;await ensureExercise(_0x75c4b4,_0x1048fc);const _0x47311a=RepositoryFactory[_0x11970c(0x1fc)](RepositoryName['Video']);let _0x2b6b6f=await ensureVideo(_0x53d31f);return ModelMapper[_0x11970c(0x206)](_0x2b6b6f,_0x245994),_0x2b6b6f=await _0x47311a[_0x11970c(0x1f4)](_0x2b6b6f),ModelMapper[_0x11970c(0x207)](_0x2b6b6f);},module[_0x117624(0x20e)][_0x117624(0x213)]=async(_0x516d62,_0x4c0137,_0x1b6c62)=>{const _0x53b521=_0x117624;await ensureExercise(_0x516d62,_0x4c0137);const _0x5793eb=RepositoryFactory[_0x53b521(0x1fc)](RepositoryName[_0x53b521(0x1f3)]),_0x49cd4b=await _0x5793eb[_0x53b521(0x20c)](_0x1b6c62);if(_0x49cd4b===0x0)throw new NotFoundError([_0x53b521(0x1f9)+_0x1b6c62+_0x53b521(0x1f6)]);},module[_0x117624(0x20e)][_0x117624(0x1fb)]=async(_0x5cbbf9,_0x1e860f,_0x2e968d)=>{await ensureExercise(_0x5cbbf9,_0x1e860f,![]);const _0x4750c3=await ensureVideo(_0x2e968d);return ModelMapper['mapVideoEntity'](_0x4750c3);},module[_0x117624(0x20e)][_0x117624(0x212)]=async(_0x1d091d,_0x3ec2c6,_0x491d7a,_0x41699a,_0x83eb8c,_0x1a3821)=>{const _0x17bf0a=_0x117624;await ensureExercise(_0x1d091d,_0x3ec2c6,![]);const _0x1e82d6={'exerciseId':_0x3ec2c6},_0x54f8c1=RepositoryFactory[_0x17bf0a(0x1fc)](RepositoryName[_0x17bf0a(0x1f3)]);let _0x342381=await _0x54f8c1[_0x17bf0a(0x1ff)](_0x1e82d6,null,_0x491d7a,_0x41699a,_0x83eb8c,_0x1a3821);return _0x342381[_0x17bf0a(0x208)]=_0x342381[_0x17bf0a(0x208)][_0x17bf0a(0x1f5)](_0x1e32ad=>ModelMapper['mapVideoEntity'](_0x1e32ad)),_0x342381;};