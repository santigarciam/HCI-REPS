'use strict';const _0x1c74=['114437qqowmV','21pxyuSb','../errors/errors','787033nanwYm','add','Exercise','1697336hNHPXv','mapExerciseDto','mapExerciseEntity','977LVqbTY','content','8SSuctX','queryByAdvancedFilter','410oyKRvt','1397BuyoBd','21381oimRJY','map','name','retrieve','userId','User\x20is\x20not\x20the\x20owner\x20of\x20exercise\x20id\x20','1LkStmC','insert','393GSkbVM','remove','./ModelMapper','update','modify','create','156meWHFO','updateExerciseDto','3XeNRZH','exports','Exercise\x20id\x20','deleteById'];function _0x428d(_0x679d8c,_0xe5d839){_0x679d8c=_0x679d8c-0x9a;let _0x1c7434=_0x1c74[_0x679d8c];return _0x1c7434;}const _0x28e24d=_0x428d;(function(_0x5844a0,_0x38a60d){const _0x1fdb26=_0x428d;while(!![]){try{const _0xf73b13=-parseInt(_0x1fdb26(0xb5))*parseInt(_0x1fdb26(0xa2))+parseInt(_0x1fdb26(0xae))+-parseInt(_0x1fdb26(0x9c))*-parseInt(_0x1fdb26(0xb6))+parseInt(_0x1fdb26(0x9a))*-parseInt(_0x1fdb26(0xab))+parseInt(_0x1fdb26(0xb7))*-parseInt(_0x1fdb26(0xb3))+parseInt(_0x1fdb26(0xa9))*parseInt(_0x1fdb26(0xb1))+parseInt(_0x1fdb26(0xa8))*-parseInt(_0x1fdb26(0xa4));if(_0xf73b13===_0x38a60d)break;else _0x5844a0['push'](_0x5844a0['shift']());}catch(_0x5862e9){_0x5844a0['push'](_0x5844a0['shift']());}}}(_0x1c74,0xdc192));const {RepositoryName,RepositoryFactory}=require('../repository/RepositoryFactory'),{ModelMapper}=require(_0x28e24d(0x9e)),{NotFoundError,ForbiddenError}=require(_0x28e24d(0xaa));async function ensureExercise(_0x42976e,_0x23c762){const _0x5df015=_0x28e24d,_0x551641=RepositoryFactory[_0x5df015(0xa1)](RepositoryName[_0x5df015(0xad)]);let _0x205953=await _0x551641['queryById'](_0x23c762);if(!_0x205953)throw new NotFoundError([_0x5df015(0xa6)+_0x23c762+'\x20not\x20found']);if(_0x205953[_0x5df015(0xbb)]!==_0x42976e['id'])throw new ForbiddenError([_0x5df015(0xbc)+_0x23c762]);return _0x205953;}module[_0x28e24d(0xa5)][_0x28e24d(0xac)]=async(_0x22513b,_0x5187b7)=>{const _0x3dafb3=_0x28e24d,_0x4ed3b5=ModelMapper[_0x3dafb3(0xaf)](_0x5187b7,_0x22513b['id']),_0x2458c5=RepositoryFactory[_0x3dafb3(0xa1)](RepositoryName[_0x3dafb3(0xad)]),_0x464917=await _0x2458c5[_0x3dafb3(0x9b)](_0x4ed3b5);return ModelMapper[_0x3dafb3(0xb0)](_0x464917);},module[_0x28e24d(0xa5)][_0x28e24d(0xa0)]=async(_0x392c69,_0x25049f,_0x72dd41)=>{const _0x58f599=_0x28e24d;let _0x23eea5=await ensureExercise(_0x392c69,_0x25049f);const _0x172e17=RepositoryFactory[_0x58f599(0xa1)](RepositoryName[_0x58f599(0xad)]);return ModelMapper[_0x58f599(0xa3)](_0x23eea5,_0x72dd41),_0x23eea5=await _0x172e17[_0x58f599(0x9f)](_0x23eea5),ModelMapper['mapExerciseEntity'](_0x23eea5);},module[_0x28e24d(0xa5)][_0x28e24d(0x9d)]=async(_0x5f1b1d,_0x3f99a3)=>{const _0x10b49c=_0x28e24d;await ensureExercise(_0x5f1b1d,_0x3f99a3);const _0x2da34b=RepositoryFactory['create'](RepositoryName[_0x10b49c(0xad)]);await _0x2da34b[_0x10b49c(0xa7)](_0x3f99a3);},module['exports'][_0x28e24d(0xba)]=async(_0x451bea,_0x168486)=>{const _0x4f4992=_0x28e24d,_0x1e2def=await ensureExercise(_0x451bea,_0x168486);return ModelMapper[_0x4f4992(0xb0)](_0x1e2def);},module[_0x28e24d(0xa5)]['retrieveList']=async(_0x59b03b,_0x59546d,_0x4fc857,_0x2344f5,_0x220594,_0x33b62f)=>{const _0x266071=_0x28e24d,_0x30fc0b={'userId':_0x59b03b['id']},_0x5f4704=_0x59546d?{'column':_0x266071(0xb9),'value':_0x59546d}:null,_0x4f0da2=RepositoryFactory['create'](RepositoryName['Exercise']);let _0x24c7c5=await _0x4f0da2[_0x266071(0xb4)](_0x30fc0b,_0x5f4704,_0x4fc857,_0x2344f5,_0x220594,_0x33b62f);return _0x24c7c5[_0x266071(0xb2)]=_0x24c7c5['content'][_0x266071(0xb8)](_0x4d503a=>ModelMapper[_0x266071(0xb0)](_0x4d503a)),_0x24c7c5;};